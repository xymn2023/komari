import{r as y,b as S,j as e,L as A,O as K}from"./entry-index-Cq13IMyc.js";import{T as $,L,E,C as T,a as H}from"./chunk-Tabler-CuHLT1Z-.js";import{T as I,C as U}from"./chunk-ThemeSwitch-oxfBYUwN.js";import{T as B,u as O}from"./chunk-use-mobile-BDllwLRx.js";import{c as i}from"./chunk-createLucideIcon-SgBSd_zz.js";import{E as R}from"./chunk-ellipsis-CC8CAYPp.js";import{u as V,p as k}from"./chunk-useTranslation-DT6f2-nl.js";import{m as b}from"./chunk-proxy-BKiT5fFT.js";import{A as q}from"./chunk-index-BlzzkOYo.js";import{o as W}from"./chunk-grid-CDjHE4uH.js";import{p as g}from"./chunk-flex-D_qeScnl.js";import{o as M}from"./chunk-icon-button-8RHoNX6f.js";import{n as F,m as P,u as Z}from"./chunk-callout-BwPsokjW.js";import{T as Y}from"./chunk-index-CSMgxAiP.js";import"./chunk-react-vendor-Csw2ODfV.js";import"./chunk-dropdown-menu-C_QY9m_V.js";import"./chunk-icons-Czmt910x.js";import"./chunk-require-react-element-DaU34sMa.js";import"./chunk-index-FhuETDEf.js";import"./chunk-index-SkULk3VY.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],J=i("activity",D);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],G=i("at-sign",X);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ee=i("bell",Q);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],ne=i("bolt",te);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],ae=i("book",oe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]],ie=i("circle-arrow-right",se);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ce=i("circle-user",re);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],de=i("file-text",le);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],pe=i("house",he);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],ye=i("message-circle-more",me);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ge=i("palette",xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],fe=i("server",ue);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m19 5 3-3",key:"yk6iyv"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m12 6 6 6 2.3-2.3a2.4 2.4 0 0 0 0-3.4l-2.6-2.6a2.4 2.4 0 0 0-3.4 0Z",key:"1snsnr"}]],be=i("unplug",ve);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],je=i("users",ke),C={Server:fe,Bolt:ne,Home:pe,CircleArrowRight:ie,MessageCircleMore:ye,Ellipsis:R,Bell:ee,Unplug:be,TrendingUp:B,Users:je,UserCircle:ce,FileText:de,AtSign:G,Book:ae,Activity:J,Palette:ge},we=[{labelKey:"common.server",path:"/admin",icon:"Server"},{labelKey:"settings.title",path:"/admin/settings",icon:"Bolt",children:[{labelKey:"settings.site.title",path:"/admin/settings/site",icon:"Home"},{labelKey:"theme.title",path:"/admin/settings/theme",icon:"Palette"},{labelKey:"settings.sign_on.title",path:"/admin/settings/sign-on",icon:"CircleArrowRight"},{labelKey:"settings.notification.title",path:"/admin/settings/notification",icon:"MessageCircleMore"},{labelKey:"settings.general.title",path:"/admin/settings/general",icon:"Ellipsis"}]},{labelKey:"notification.title",path:"/admin/notification",icon:"Bell",children:[{labelKey:"notification.offline.title",path:"/admin/notification/offline",icon:"Unplug"},{labelKey:"notification.load.title",path:"/admin/notification/load",icon:"TrendingUp"}]},{labelKey:"ping.title",path:"/admin/ping",icon:"Activity"},{labelKey:"sessions.title",path:"/admin/sessions",icon:"Users"},{labelKey:"account.title",path:"/admin/account",icon:"UserCircle"},{labelKey:"logs.title",path:"/admin/logs",icon:"FileText"},{labelKey:"common.about",path:"/admin/about",icon:"AtSign"},{labelKey:"common.documentation",path:"https://komari-monitor.github.io/komari-document",icon:"Book"}],Me={menu:we},N=Me.menu,Ce=({content:o})=>{const[a,r]=y.useState(!1),[x,h]=y.useState({}),t=O(),c=window.location.protocol==="https:",[u]=V(),p=S(),[f,v]=y.useState(null);y.useEffect(()=>{(async()=>{try{const d=await(await fetch("/api/version")).json();d.status==="success"&&v({hash:d.data.hash.slice(0,7),version:d.data.version})}catch(l){console.error("Failed to fetch version info:",l)}})()},[]),y.useEffect(()=>{const n=()=>r(!t);return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t]),y.useEffect(()=>{const n={};N.forEach(l=>{l.children&&(n[l.path]=l.children.some(d=>p.pathname===d.path||p.pathname.startsWith(d.path)))}),h(n)},[p.pathname]);const j={open:{width:t?"100vw":"240px",opacity:1,transition:{type:"spring",stiffness:300,damping:30}},closed:{width:0,opacity:t?0:1,transition:{type:"spring",stiffness:300,damping:30}}},w={open:{opacity:t?0:1,x:t?"100%":0,transition:{duration:.3}},closed:{opacity:1,x:0,transition:{duration:.3}}};function s(){window.open("/api/logout","_self")}return e.jsx(e.Fragment,{children:e.jsxs(W,{columns:{initial:"1fr",md:a?"240px 1fr":"0px 1fr"},rows:{initial:"auto 1fr",md:"auto 1fr"},style:{height:"100vh",width:"100vw",overflow:"auto",backgroundColor:"var(--accent-1)"},children:[e.jsx(b.nav,{className:"col-span-2",initial:{y:0},animate:{y:0},transition:{duration:.5,ease:"easeOut"},children:e.jsxs(g,{gap:"3",p:"2",justify:"between",align:"center",className:"border-b-1",children:[e.jsxs(g,{gap:"3",align:"center",children:[e.jsx(M,{variant:"ghost",onClick:()=>r(!a),style:{display:t&&a?"none":"flex",color:"var(--gray-11)"},children:e.jsx($,{})}),e.jsx(A,{to:"/",children:e.jsx("label",{className:"text-xl font-bold",children:"Komari"})}),e.jsx("label",{className:"text-sm text-muted-foreground self-end overflow-hidden",children:f&&`${f.version} (${f.hash})`})]}),e.jsxs(g,{gap:"3",align:"center",children:[e.jsx(I,{}),e.jsx(U,{}),e.jsx(L,{}),e.jsx(M,{variant:"soft",color:"orange",onClick:s,children:e.jsx(E,{})})]})]})}),e.jsx(q,{children:e.jsx(b.div,{variants:j,initial:"closed",animate:a?"open":"closed",exit:"closed",style:{backgroundColor:"var(--accent-1)",height:"100%",position:t?"absolute":"relative",zIndex:t?10:1,overflowY:"auto",overflowX:"hidden"},children:e.jsxs(g,{gap:"3",className:"p-2 border-r-1",direction:"column",justify:"start",align:"start",style:{height:"100%",minWidth:"240px"},children:[e.jsx(M,{variant:"soft",style:{display:t?"flex":"none",margin:"8px 0px 0px 8px"},onClick:()=>r(!1),children:e.jsx(T,{})}),e.jsx(g,{direction:"column",gap:"1",className:"h-full md:mt-0 mt-6 ",style:{width:"100%"},children:N.map(n=>{const l=C[n.icon],d=x[n.path];return n.children&&n.children.length?e.jsxs("div",{children:[" ",e.jsxs(g,{className:"p-2 gap-2 border-l-[4px] border-transparent cursor-pointer hover:bg-accent-3 rounded-md",align:"center",onClick:()=>{h(m=>({...m,[n.path]:!m[n.path]}))},children:[e.jsx(l,{className:"flex w-4 h-5 items-center justify-center opacity-70"}),e.jsx(k,{className:"text-base",weight:"medium",style:{flex:1},children:u(n.labelKey)}),e.jsx(H,{style:{transform:d?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}})]}),e.jsx(b.div,{initial:{height:0,opacity:0},animate:d?{height:"auto",opacity:1}:{height:0,opacity:0},transition:{duration:.2},style:{overflow:"hidden"},children:e.jsx(g,{direction:"column",className:"ml-4 gap-1",children:n.children.map(m=>{const z=C[m.icon];return e.jsx(_,{to:m.path,icon:e.jsx(z,{style:{color:"var(--gray11)"}}),children:u(m.labelKey),onClick:()=>t&&r(!1)},m.path)})})})]},n.path):e.jsx(_,{to:n.path,icon:e.jsx(l,{style:{color:"var(--gray11)"}}),children:u(n.labelKey),onClick:()=>t&&r(!1)},n.path)})})]})})}),e.jsx(b.div,{variants:w,animate:a?"open":"closed",style:{backgroundColor:"var(--accent-3)",display:t&&a?"none":"block",height:"100%",overflow:"hidden"},children:e.jsxs("div",{style:{backgroundColor:"var(--accent-1)",height:"100%",borderRadius:"0",padding:t?"8px":"16px",overflowY:"auto",boxSizing:"border-box"},children:[e.jsxs(F,{mb:"2",hidden:c,color:"red",children:[e.jsx(P,{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M10.03 3.659c.856-1.548 3.081-1.548 3.937 0l7.746 14.001c.83 1.5-.255 3.34-1.969 3.34H4.254c-1.715 0-2.8-1.84-1.97-3.34zM12.997 17A.999.999 0 1 0 11 17a.999.999 0 0 0 1.997 0m-.259-7.853a.75.75 0 0 0-1.493.103l.004 4.501l.007.102a.75.75 0 0 0 1.493-.103l-.004-4.502z"})})}),e.jsx(Z,{children:e.jsx(k,{size:"2",weight:"medium",children:u("warn_https")})})]}),o]})})]})})},_=({to:o,onClick:a,icon:r,children:x})=>{const h=S(),t=o.startsWith("http://")||o.startsWith("https://"),c=!t&&(h.pathname===o||o!=="/admin"&&h.pathname.startsWith(o));return t?e.jsx("a",{href:o,onClick:a,target:"_blank",rel:"noopener noreferrer",className:"group overflow-hidden transition-colors duration-200 hover:bg-accent-3 rounded-md",children:e.jsxs(g,{className:"p-2 gap-2",align:"center",style:{borderLeft:"4px solid transparent",borderRadius:"6px",backgroundColor:"transparent",color:"inherit",transition:"background-color 0.2s, border-color 0.2s"},children:[e.jsx("span",{style:{color:"inherit",opacity:.7},className:"flex w-4 h-5 items-center justify-center",children:r}),e.jsx(k,{className:"text-base",weight:"medium",style:{flex:1},children:x})]})}):e.jsx(A,{to:o,onClick:a,className:"group overflow-hidden transition-colors duration-200 hover:bg-accent-3 rounded-md",children:e.jsxs(g,{className:"p-2 gap-2",align:"center",style:{borderLeft:c?"4px solid var(--accent-8)":"4px solid transparent",borderRadius:"6px",backgroundColor:c?"var(--accent-4)":"transparent",color:c?"var(--accent-10)":"inherit",transition:"background-color 0.2s, border-color 0.2s"},children:[e.jsx("span",{style:{color:c?"var(--accent-10)":"inherit",opacity:c?1:.7},className:"flex w-4 h-5 items-center justify-center",children:r}),e.jsx(k,{className:"text-base",weight:c?"bold":"medium",style:{flex:1},children:x})]})})};var Ne=(o,a,r,x,h,t,c,u)=>{let p=document.documentElement,f=["light","dark"];function v(s){(Array.isArray(o)?o:[o]).forEach(n=>{let l=n==="class",d=l&&t?h.map(m=>t[m]||m):h;l?(p.classList.remove(...d),p.classList.add(t&&t[s]?t[s]:s)):p.setAttribute(n,s)}),j(s)}function j(s){u&&f.includes(s)&&(p.style.colorScheme=s)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(x)v(x);else try{let s=localStorage.getItem(a)||r,n=c&&s==="system"?w():s;v(n)}catch{}},_e=y.createContext(void 0),Se={setTheme:o=>{},themes:[]},Ae=()=>{var o;return(o=y.useContext(_e))!=null?o:Se};y.memo(({forcedTheme:o,storageKey:a,attribute:r,enableSystem:x,enableColorScheme:h,defaultTheme:t,value:c,themes:u,nonce:p,scriptProps:f})=>{let v=JSON.stringify([r,a,t,o,u,c,x,h]).slice(1,-1);return y.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(${Ne.toString()})(${v})`}})});const ze=({...o})=>{const{theme:a="system"}=Ae();return e.jsx(Y,{theme:a,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...o})},Xe=()=>e.jsxs(e.Fragment,{children:[e.jsx(Ce,{content:e.jsx(K,{})}),e.jsx(ze,{})]});export{Xe as default};
