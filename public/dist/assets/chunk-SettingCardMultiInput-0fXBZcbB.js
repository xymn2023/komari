import{R as r,j as l}from"./entry-index-Cq13IMyc.js";import{d as n}from"./chunk-SettingCard-CsyIFvca.js";import{u as y}from"./chunk-useTranslation-DT6f2-nl.js";import{p as w}from"./chunk-flex-D_qeScnl.js";import{r as N}from"./chunk-text-area-76rX6ii9.js";import{u as S}from"./chunk-text-field-BPsisRj1.js";import{o as E}from"./chunk-button-BTrNb_zO.js";function T({title:c="",description:m="",defaultOpen:g=!1,items:o,onSave:v,isSaving:t,children:u,onChange:d}){const{t:x}=y(),[s,h]=r.useState(()=>o.reduce((e,a)=>(e[a.tag]=a.defaultValue||"",e),{})),[b,f]=r.useState(!1),j=t!==void 0?t:b,i=(e,a)=>{h(V=>{const p={...V,[e]:a};return d&&d(p),p})},C=async()=>{t===void 0&&f(!0);try{await v(s)}finally{t===void 0&&f(!1)}};return l.jsxs(n,{title:c,description:m,defaultOpen:g,children:[r.Children.map(u,e=>r.isValidElement(e)&&e.type===n.Header?e:null),l.jsxs(w,{direction:"column",gap:"2",className:"w-full",children:[o.map(e=>l.jsxs(r.Fragment,{children:[l.jsx("label",{className:"text-sm font-semibold",children:e.label}),e.type==="long"?l.jsx(N,{className:"w-full",defaultValue:e.defaultValue,value:s[e.tag],placeholder:e.placeholder,disabled:e.disabled,onChange:a=>i(e.tag,a.target.value),resize:"vertical",ref:void 0}):l.jsx(S,{className:"w-full",defaultValue:e.defaultValue,value:s[e.tag],placeholder:e.placeholder,disabled:e.disabled,type:e.number?"number":"text",onChange:a=>i(e.tag,a.target.value),ref:void 0})]},e.tag)),r.Children.map(u,e=>r.isValidElement(e)&&e.type===n.Header?null:e),l.jsx("div",{children:l.jsx(E,{variant:"solid",className:"mt-2",onClick:C,disabled:j,children:x("save")})})]})]})}export{T as S};
