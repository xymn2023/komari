import{r as l,j as x,d as g,k as T,R}from"./entry-index-Cq13IMyc.js";function N(e){const o=j(e),r=l.forwardRef((n,t)=>{const{children:c,...f}=n,s=l.Children.toArray(c),i=s.find(P);if(i){const u=i.props.children,y=s.map(E=>E===i?l.Children.count(u)>1?l.Children.only(null):l.isValidElement(u)?u.props.children:null:E);return x.jsx(o,{...f,ref:t,children:l.isValidElement(u)?l.cloneElement(u,void 0,y):null})}return x.jsx(o,{...f,ref:t,children:c})});return r.displayName=`${e}.Slot`,r}function j(e){const o=l.forwardRef((r,n)=>{const{children:t,...c}=r,f=l.isValidElement(t)?V(t):void 0,s=g(f,n);if(l.isValidElement(t)){const i=w(c,t.props);return t.type!==l.Fragment&&(i.ref=s),l.cloneElement(t,i)}return l.Children.count(t)>1?l.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var v=Symbol("radix.slottable");function P(e){return l.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===v}function w(e,o){const r={...o};for(const n in o){const t=e[n],c=o[n];/^on[A-Z]/.test(n)?t&&c?r[n]=(...s)=>{const i=c(...s);return t(...s),i}:t&&(r[n]=t):n==="style"?r[n]={...t,...c}:n==="className"&&(r[n]=[t,c].filter(Boolean).join(" "))}return{...e,...r}}function V(e){var n,t;let o=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=o&&"isReactWarning"in o&&o.isReactWarning;return r?e.ref:(o=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,r=o&&"isReactWarning"in o&&o.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function D(e){const o=e+"CollectionProvider",[r,n]=T(o),[t,c]=r(o,{collectionRef:{current:null},itemMap:new Map}),f=m=>{const{scope:a,children:S}=m,p=R.useRef(null),d=R.useRef(new Map).current;return x.jsx(t,{scope:a,itemMap:d,collectionRef:p,children:S})};f.displayName=o;const s=e+"CollectionSlot",i=N(s),u=R.forwardRef((m,a)=>{const{scope:S,children:p}=m,d=c(s,S),C=g(a,d.collectionRef);return x.jsx(i,{ref:C,children:p})});u.displayName=s;const y=e+"CollectionItemSlot",E="data-radix-collection-item",O=N(y),A=R.forwardRef((m,a)=>{const{scope:S,children:p,...d}=m,C=R.useRef(null),M=g(a,C),I=c(y,S);return R.useEffect(()=>(I.itemMap.set(C,{ref:C,...d}),()=>void I.itemMap.delete(C))),x.jsx(O,{[E]:"",ref:M,children:p})});A.displayName=y;function _(m){const a=c(e+"CollectionConsumer",m);return R.useCallback(()=>{const p=a.collectionRef.current;if(!p)return[];const d=Array.from(p.querySelectorAll(`[${E}]`));return Array.from(a.itemMap.values()).sort((I,h)=>d.indexOf(I.ref.current)-d.indexOf(h.ref.current))},[a.collectionRef,a.itemMap])}return[{Provider:f,Slot:u,ItemSlot:A},_,n]}export{D as c};
